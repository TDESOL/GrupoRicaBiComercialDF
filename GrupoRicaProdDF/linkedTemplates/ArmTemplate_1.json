{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "GrupoRicaProdDF"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/DESPACHO_ALL_PROD')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase_STG_PROD",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "FECHA_DESPACHO",
						"type": "nvarchar"
					},
					{
						"name": "CD_PERIODO_DESPACHO",
						"type": "nvarchar"
					},
					{
						"name": "CD_ORDEN_VENTAS",
						"type": "nvarchar"
					},
					{
						"name": "CD_DESPACHO_VENTA",
						"type": "nvarchar"
					},
					{
						"name": "POS_NUM",
						"type": "nvarchar"
					},
					{
						"name": "CD_ORG",
						"type": "nvarchar"
					},
					{
						"name": "CD_ZONA",
						"type": "nvarchar"
					},
					{
						"name": "CD_GERENCIA_VENTA",
						"type": "nvarchar"
					},
					{
						"name": "CD_RUTA",
						"type": "nvarchar"
					},
					{
						"name": "CD_CLIENTE",
						"type": "nvarchar"
					},
					{
						"name": "CD_MONEDA",
						"type": "nvarchar"
					},
					{
						"name": "PRODUCTO",
						"type": "nvarchar"
					},
					{
						"name": "CD_CENTRO_DISTRIBICION",
						"type": "nvarchar"
					},
					{
						"name": "MONTO_BONIFICACION",
						"type": "decimal",
						"precision": 2,
						"scale": 2
					},
					{
						"name": "NETWR",
						"type": "decimal",
						"precision": 2,
						"scale": 2
					},
					{
						"name": "CD_CANAL_DISTRIBUCION",
						"type": "nvarchar"
					},
					{
						"name": "CANT_ITEMS",
						"type": "decimal",
						"precision": 13,
						"scale": 3
					},
					{
						"name": "MONTO_NETO",
						"type": "decimal",
						"precision": 2,
						"scale": 2
					},
					{
						"name": "TOTAL_IMPUESTO",
						"type": "decimal",
						"precision": 2,
						"scale": 2
					},
					{
						"name": "TOTAL_DESC_ORG",
						"type": "decimal",
						"precision": 2,
						"scale": 2
					},
					{
						"name": "TASA_REF_MON",
						"type": "decimal",
						"precision": 9,
						"scale": 5
					},
					{
						"name": "CD_VENDEDOR_SUP",
						"type": "nvarchar"
					},
					{
						"name": "INDICADOR_BORRADO",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_FACT_DESPACHO_VENTA_ALL"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_DATOS_DECDEV')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_FACTURA",
						"type": "nvarchar"
					},
					{
						"name": "CD_FACTURA_DETALLE",
						"type": "nvarchar"
					},
					{
						"name": "CD_RUTA",
						"type": "nvarchar"
					},
					{
						"name": "CD_PRODUCTO",
						"type": "nvarchar"
					},
					{
						"name": "CD_TIPO_DOC",
						"type": "nvarchar"
					},
					{
						"name": "CANTIDAD_LIQ",
						"type": "decimal",
						"precision": 13,
						"scale": 3
					},
					{
						"name": "FECHA_LIQ",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DATOS_DECDEV_ALL"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_DIM_EMPLEADO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_EMPLEADO",
						"type": "varchar"
					},
					{
						"name": "NM_EMPLEADO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr00",
					"table": "STG_DIM_EMPLEADO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_REF_COSTO_DESPACHO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "MATERIAL",
						"type": "nvarchar"
					},
					{
						"name": "CENTRO",
						"type": "nvarchar"
					},
					{
						"name": "PERIODO",
						"type": "nvarchar"
					},
					{
						"name": "CONTROL",
						"type": "nvarchar"
					},
					{
						"name": "COSTO",
						"type": "decimal",
						"precision": 17,
						"scale": 8
					},
					{
						"name": "TASA_CAMBIARIA",
						"type": "decimal",
						"precision": 9,
						"scale": 5
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_REF_COSTO_DESPACHO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "STG_FACT_PRUEBA"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_CENTRO_DISTRIBUCION')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_CENTRO_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "NM_CENTRO_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "CD_CENTRO_DISTRIBUCION_EQUIVALENTE",
						"type": "varchar"
					},
					{
						"name": "CD_ADMINISTRADOR_CENTRO_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "CD_REGION_VENTA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_CENTRO_DISTRIBUCION"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_CLIENTE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_CLIENTE",
						"type": "varchar"
					},
					{
						"name": "CD_CLIENTE_EQUIVALENTE",
						"type": "varchar"
					},
					{
						"name": "NM_CLIENTE",
						"type": "varchar"
					},
					{
						"name": "CD_HOLDING_CLIENTE",
						"type": "varchar"
					},
					{
						"name": "CD_GERENCIA_VENTA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_CLIENTE"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_FAMILIA_PRODUCTO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_FAMILIA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "NM_FAMILIA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_TIPO_PRODUCTO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_FAMILIA_PRODUCTO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_GERENCIA_VENTA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_GERENCIA_VENTA",
						"type": "varchar"
					},
					{
						"name": "NM_GERENCIA_VENTA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_GERENCIA_VENTA"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_HOLDING_CLIENTE')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_HOLDING_CLIENTE",
						"type": "varchar"
					},
					{
						"name": "NM_HOLDING_CLIENTE",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_HOLDING_CLIENTE"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_LINEA_PRODUCTO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_LINEA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "NM_LINEA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_FAMILIA_PRODUCTO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_LINEA_PRODUCTO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_MARCA_PRODUCTO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_MARCA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "NM_MARCA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_LINEA_PRODUCTO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_MARCA_PRODUCTO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_MONEDA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_MONEDA",
						"type": "varchar"
					},
					{
						"name": "DESC_MONEDA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr00",
					"table": "STG_DIM_MONEDA"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_ORGANIZACION')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_ORGANIZACION",
						"type": "varchar"
					},
					{
						"name": "NOM_ORGANIZACION",
						"type": "varchar"
					},
					{
						"name": "CD_ORG_ANT",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr00",
					"table": "STG_DIM_ORGANIZACION"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_PERIODO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "COD_PERIODO",
						"type": "varchar"
					},
					{
						"name": "DESC_PERIODO",
						"type": "varchar"
					},
					{
						"name": "CD_TIPO_PERIODO",
						"type": "varchar"
					},
					{
						"name": "DESC_TIPO_PERIODO",
						"type": "varchar"
					},
					{
						"name": "FECHA_INICIO",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "FECHA_FIN",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "COD_PERIODO_ANTERIOR",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr00",
					"table": "STG_DIM_PERIODO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_PRODUCTO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "NM_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "UND_CONV_BASE",
						"type": "varchar"
					},
					{
						"name": "CD_PRESENTACION_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_TECNOLOGIA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_MARCA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "CD_PRODUCTO_EQV",
						"type": "varchar"
					},
					{
						"name": "FACT_LITROS",
						"type": "decimal",
						"precision": 20,
						"scale": 6
					},
					{
						"name": "FACT_CAJA",
						"type": "decimal",
						"precision": 20,
						"scale": 6
					},
					{
						"name": "FACT_PALETA",
						"type": "decimal",
						"precision": 20,
						"scale": 6
					},
					{
						"name": "FACT_LIBRA",
						"type": "decimal",
						"precision": 20,
						"scale": 6
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_PRODUCTO"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_PROVINCIA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_PROVINCIA",
						"type": "varchar"
					},
					{
						"name": "NM_PROVINCIA",
						"type": "varchar"
					},
					{
						"name": "CD_PAIS",
						"type": "varchar"
					},
					{
						"name": "SIGLA_PROVINCIA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr00",
					"table": "STG_DIM_PROVINCIA"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_REGION_VENTA')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_REGION_VENTA",
						"type": "varchar"
					},
					{
						"name": "NM_REGION_VENTA",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_REGION_VENTA"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_RUTA_DISTRIBUCION')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_RUTA_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "NM_RUTA_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "CD_REGION_VENTA",
						"type": "varchar"
					},
					{
						"name": "CD_ZONA_VENTA",
						"type": "varchar"
					},
					{
						"name": "CD_ORGANIZACION",
						"type": "varchar"
					},
					{
						"name": "CD_CENTRO_DISTRIBUCIÓN",
						"type": "varchar"
					},
					{
						"name": "CD_TIPO_RUTA_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "NM_TIPO_RUTA_DISTRIBUCION",
						"type": "varchar"
					},
					{
						"name": "CD_RUTA_DISTRIBUCION_EQUIVALENTE",
						"type": "varchar"
					},
					{
						"name": "CD_CENTRO_DISTRIBUCIÓN_EQUIVALENTE",
						"type": "varchar"
					},
					{
						"name": "CD_GERENCIA_VENTAS",
						"type": "varchar"
					},
					{
						"name": "CD_SUPERVISOR",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_RUTA_DISTRIBUCION"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DST_STG_DIM_TECNOLOGIA_PRODUCTO')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase1",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CD_TECNOLOGIA_PRODUCTO",
						"type": "varchar"
					},
					{
						"name": "NM_TECNOLOGIA_PRODUCTO",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "gr01",
					"table": "STG_DIM_TECNOLOGIA_PRODUCTO"
				}
			},
			"dependsOn": []
		}
	]
}